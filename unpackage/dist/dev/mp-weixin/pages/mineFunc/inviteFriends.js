"use strict";const e=require("../../common/vendor.js"),d=require("../../request/api.js"),f=require("../../store/user.js"),u=require("../../config/index.js");Array||e.resolveComponent("uv-icon")();const l=()=>"../../uni_modules/uv-icon/components/uv-icon/uv-icon.js";Math||l();const g={__name:"inviteFriends",setup(_){const i=e.ref(""),t=f.useUserStore();e.onLoad(()=>{r()});const a=()=>{e.index.navigateBack()},r=()=>{d.getInviterCode({uid:t.uid,token:t.token}).then(s=>{i.value=s.data})},v=s=>{e.index.downloadFile({url:u.SERVERTAPI+i.value,success:function(o){e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:51",o),e.wx$1.saveImageToPhotosAlbum({filePath:o.tempFilePath,success:function(n){e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:55",n),e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:56","success"),e.index.showToast({icon:"success",title:"保存成功"})},fail:function(n){e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:63",n),e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:64","fail"),n.errMsg==="saveImageToPhotosAlbum:fail auth deny"&&(e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:66","打开设置窗口"),e.wx$1.openSetting({success(c){e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:69",c),c.authSetting["scope.writePhotosAlbum"]?(e.index.showToast({icon:"success",title:"保存成功"}),e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:76","获取权限成功，再次点击图片保存到相册")):e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:78","获取权限失败")}}))}})},fail:function(){e.index.__f__("log","at pages/mineFunc/inviteFriends.vue:87","fail")}})};return(s,o)=>({a:e.o(a),b:e.p({name:"arrow-left",color:"#fff"}),c:e.unref(u.SERVERTAPI)+i.value,d:e.o(v)})}};wx.createPage(g);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/mineFunc/inviteFriends.js.map
