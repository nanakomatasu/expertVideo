"use strict";const o=require("../../../../../../common/vendor.js"),r=require("../../../../constants/event.js"),v=s=>{const{emit:e}=o.getCurrentInstance(),i=o.computed(()=>{const l=o.index.getSystemInfoSync();return l.osName==="ios"||l.osName==="macos"}),t=o.ref(!1),u=o.ref(!1),n=o.ref(!1);let a=!1;o.watch(()=>s.modelValue,l=>{l?(n.value=!0,i.value?setTimeout(()=>{u.value=!0,s.overlay&&(t.value=!0),a&&e("open")},0):(u.value=!0,s.overlay&&(t.value=!0),a&&e("open"))):(u.value=!1,t.value=!1,setTimeout(()=>{n.value=!1},250),a&&e("close")),a=!0},{immediate:!0});const c=l=>{e(r.UPDATE_MODEL_EVENT,l)};return{iosDevice:i,showOverlay:t,showPopup:u,visiblePopup:n,updateModelValue:c,onClickCloseBtn:()=>{c(!1),e("close")},onClickOverlay:()=>{s.overlayCloseable&&(c(!1),e("close"),e("overlay-click"))}}};exports.usePopup=v;
//# sourceMappingURL=../../../../../../../.sourcemap/mp-weixin/uni_modules/tuniaoui-vue3/components/popup/src/composables/use-popup.js.map
