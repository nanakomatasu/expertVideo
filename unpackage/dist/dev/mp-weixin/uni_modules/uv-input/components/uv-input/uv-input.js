"use strict";const u=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),l=require("../../../uv-ui-tools/libs/mixin/mixin.js"),h=require("./props.js"),n=require("../../../../common/vendor.js"),d={name:"uv-input",mixins:[u.mpMixin,l.mixin,h.props],data(){return{innerValue:"",focused:!1,innerFormatter:e=>e}},created(){this.innerValue=this.modelValue},watch:{value(e){this.innerValue=e},modelValue(e){this.innerValue=e}},computed:{isShowClear(){const{clearable:e,readonly:o,focused:s,innerValue:r}=this;return!!e&&!o&&!!s&&r!==""},inputClass(){let e=[],{border:o,disabled:s,shape:r}=this;return o==="surround"&&(e=e.concat(["uv-border","uv-input--radius"])),e.push(`uv-input--${r}`),o==="bottom"&&(e=e.concat(["uv-border-bottom","uv-input--no-radius"])),e.join(" ")},wrapperStyle(){const e={};return this.disabled&&(e.backgroundColor=this.disabledColor),this.border==="none"?e.padding="0":(e.paddingTop="6px",e.paddingBottom="6px",e.paddingLeft="9px",e.paddingRight="9px"),this.$uv.deepMerge(e,this.$uv.addStyle(this.customStyle))},inputStyle(){const e={color:this.color,fontSize:this.$uv.addUnit(this.fontSize),textAlign:this.inputAlign};return(this.disabled||this.readonly)&&(e["pointer-events"]="none"),e}},methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:o=""}=e.detail||{};const r=(this.formatter||this.innerFormatter)(o);this.innerValue=o,this.$nextTick(()=>{this.innerValue=r,this.valueChange()})},onBlur(e){this.$emit("blur",e.detail.value),this.$uv.sleep(100).then(()=>{this.focused=!1}),this.$uv.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(e){this.$emit("keyboardheightchange",e)},valueChange(){this.isClear&&(this.innerValue="");const e=this.innerValue;this.$nextTick(()=>{this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e),this.$uv.formValidate(this,"change")})},onClear(){this.innerValue="",this.isClear=!0,this.$uv.sleep(200).then(e=>{this.isClear=!1}),this.$nextTick(()=>{this.$emit("clear"),this.valueChange()})},clickHandler(){}}};Array||n.resolveComponent("uv-icon")();const c=()=>"../../../uv-icon/components/uv-icon/uv-icon.js";Math||c();function m(e,o,s,r,a,i){return n.e({a:e.prefixIcon},e.prefixIcon?{b:n.p({name:e.prefixIcon,size:"18",customStyle:e.prefixIconStyle})}:{},{c:n.s(i.inputStyle),d:e.type,e:e.focus,f:e.cursor,g:a.innerValue,h:e.autoBlur,i:e.disabled||e.readonly,j:e.maxlength,k:e.placeholder,l:e.placeholderStyle,m:e.placeholderClass,n:e.confirmType,o:e.confirmHold,p:e.holdKeyboard,q:e.cursorSpacing,r:e.adjustPosition,s:e.selectionEnd,t:e.selectionStart,v:e.password||e.type==="password"||void 0,w:e.ignoreCompositionEvent,x:n.o((...t)=>i.onInput&&i.onInput(...t)),y:n.o((...t)=>i.onBlur&&i.onBlur(...t)),z:n.o((...t)=>i.onFocus&&i.onFocus(...t)),A:n.o((...t)=>i.onConfirm&&i.onConfirm(...t)),B:n.o((...t)=>i.onkeyboardheightchange&&i.onkeyboardheightchange(...t)),C:n.o((...t)=>i.clickHandler&&i.clickHandler(...t)),D:i.isShowClear},i.isShowClear?{E:n.p({name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"}),F:n.o((...t)=>i.onClear&&i.onClear(...t))}:{},{G:e.suffixIcon},e.suffixIcon?{H:n.p({name:e.suffixIcon,size:"18",customStyle:e.suffixIconStyle})}:{},{I:n.n(i.inputClass),J:n.s(i.wrapperStyle)})}const f=n._export_sfc(d,[["render",m],["__scopeId","data-v-651602aa"]]);wx.createComponent(f);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/uni_modules/uv-input/components/uv-input/uv-input.js.map
