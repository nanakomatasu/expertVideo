{"version":3,"file":"index.js","sources":["uni_modules/tuniaoui-vue3/hooks/use-namespace/index.ts"],"sourcesContent":["import { computed, inject, ref, unref } from 'vue'\n\nimport type { InjectionKey, Ref } from 'vue'\n\nexport const defaultNamespace = 'tn'\n\nconst _bem = (\n  namespace: string,\n  block: string,\n  blockSuffix: string,\n  element: string,\n  modifier: string\n) => {\n  let cls = `${namespace}-${block}`\n  if (blockSuffix) {\n    cls += `-${blockSuffix}`\n  }\n  if (element) {\n    cls += `__${element}`\n  }\n  if (modifier) {\n    cls += `--${modifier}`\n  }\n  return cls\n}\n\nexport const namespaceContextKey: InjectionKey<Ref<string | undefined>> =\n  Symbol('localContextKey')\n\nexport const useGetDerivedNamespace = () => {\n  const derivedNamespace = inject(namespaceContextKey, ref(defaultNamespace))\n  const namespace = computed(() => {\n    return unref(derivedNamespace) || defaultNamespace\n  })\n  return namespace\n}\n\nexport const useNamespace = (block: string) => {\n  const namespace = useGetDerivedNamespace()\n\n  const b = (blockSuffix = '') =>\n    _bem(namespace.value, block, blockSuffix, '', '')\n  const e = (element?: string) =>\n    element ? _bem(namespace.value, block, '', element, '') : ''\n  const m = (modifier?: string) =>\n    modifier ? _bem(namespace.value, block, '', '', modifier) : ''\n  const be = (blockSuffix?: string, element?: string) =>\n    blockSuffix && element\n      ? _bem(namespace.value, block, blockSuffix, element, '')\n      : ''\n  const em = (element?: string, modifier?: string) =>\n    element && modifier\n      ? _bem(namespace.value, block, '', element, modifier)\n      : ''\n  const bm = (blockSuffix?: string, modifier?: string) =>\n    blockSuffix && modifier\n      ? _bem(namespace.value, block, blockSuffix, '', modifier)\n      : ''\n  const bem = (blockSuffix?: string, element?: string, modifier?: string) =>\n    blockSuffix && element && modifier\n      ? _bem(namespace.value, block, blockSuffix, element, modifier)\n      : ''\n  const is: {\n    (name: string, state: boolean | undefined): string\n    (name: string): string\n  } = (name: string, ...args: [boolean | undefined] | []) => {\n    const state = args.length >= 1 ? args[0] : true\n    return name && state ? `is-${name}` : ''\n  }\n\n  // for css var\n  const cssVar = (object: Record<string, string>) => {\n    const styles: Record<string, string> = {}\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${key}`] = object[key]\n      }\n    }\n    return styles\n  }\n  // with Block\n  const cssVarBlock = (object: Record<string, string>) => {\n    const styles: Record<string, string> = {}\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${block}-${key}`] = object[key]\n      }\n    }\n    return styles\n  }\n\n  const cssVarName = (name: string) => `--${namespace.value}-${name}`\n  const cssVarBlockName = (name: string) =>\n    `--${namespace.value}-${block}-${name}`\n\n  return {\n    namespace,\n    b,\n    e,\n    m,\n    be,\n    em,\n    bm,\n    bem,\n    is,\n    // css\n    cssVar,\n    cssVarName,\n    cssVarBlock,\n    cssVarBlockName,\n  }\n}\n\nexport type UseNamespaceReturn = ReturnType<typeof useNamespace>\n"],"names":["defaultNamespace","_bem","namespace","block","blockSuffix","element","modifier","cls","namespaceContextKey","useGetDerivedNamespace","derivedNamespace","inject","ref","computed","unref","useNamespace","name","args","state","object","styles","key"],"mappings":"6DAIaA,EAAmB,KAE1BC,EAAO,CACXC,EACAC,EACAC,EACAC,EACAC,IACG,CACH,IAAIC,EAAM,GAAGL,CAAS,IAAIC,CAAK,GAC/B,OAAIC,IACFG,GAAO,IAAIH,CAAW,IAEpBC,IACFE,GAAO,KAAKF,CAAO,IAEjBC,IACFC,GAAO,KAAKD,CAAQ,IAEfC,CACT,EAEaC,EACX,OAAO,iBAAiB,EAEbC,EAAyB,IAAM,CAC1C,MAAMC,EAAmBC,EAAAA,OAAOH,EAAqBI,EAAAA,IAAIZ,CAAgB,CAAC,EAInE,OAHWa,EAAAA,SAAS,IAClBC,EAAA,MAAMJ,CAAgB,GAAKV,CACnC,CAEH,EAEae,EAAgBZ,GAAkB,CAC7C,MAAMD,EAAYO,IAyDX,MAAA,CACL,UAAAP,EACA,EAzDQ,CAACE,EAAc,KACvBH,EAAKC,EAAU,MAAOC,EAAOC,EAAa,GAAI,EAAE,EAyDhD,EAxDSC,GACTA,EAAUJ,EAAKC,EAAU,MAAOC,EAAO,GAAIE,EAAS,EAAE,EAAI,GAwD1D,EAvDSC,GACTA,EAAWL,EAAKC,EAAU,MAAOC,EAAO,GAAI,GAAIG,CAAQ,EAAI,GAuD5D,GAtDS,CAACF,EAAsBC,IAChCD,GAAeC,EACXJ,EAAKC,EAAU,MAAOC,EAAOC,EAAaC,EAAS,EAAE,EACrD,GAoDJ,GAnDS,CAACA,EAAkBC,IAC5BD,GAAWC,EACPL,EAAKC,EAAU,MAAOC,EAAO,GAAIE,EAASC,CAAQ,EAClD,GAiDJ,GAhDS,CAACF,EAAsBE,IAChCF,GAAeE,EACXL,EAAKC,EAAU,MAAOC,EAAOC,EAAa,GAAIE,CAAQ,EACtD,GA8CJ,IA7CU,CAACF,EAAsBC,EAAkBC,IACnDF,GAAeC,GAAWC,EACtBL,EAAKC,EAAU,MAAOC,EAAOC,EAAaC,EAASC,CAAQ,EAC3D,GA2CJ,GAvCE,CAACU,KAAiBC,IAAqC,CACzD,MAAMC,EAAQD,EAAK,QAAU,EAAIA,EAAK,CAAC,EAAI,GAC3C,OAAOD,GAAQE,EAAQ,MAAMF,CAAI,GAAK,EAAA,EAuCtC,OAnCcG,GAAmC,CACjD,MAAMC,EAAiC,CAAA,EACvC,UAAWC,KAAOF,EACZA,EAAOE,CAAG,IACLD,EAAA,KAAKlB,EAAU,KAAK,IAAImB,CAAG,EAAE,EAAIF,EAAOE,CAAG,GAG/C,OAAAD,CAAA,EA6BP,WAhBkBJ,GAAiB,KAAKd,EAAU,KAAK,IAAIc,CAAI,GAiB/D,YA3BmBG,GAAmC,CACtD,MAAMC,EAAiC,CAAA,EACvC,UAAWC,KAAOF,EACZA,EAAOE,CAAG,IACLD,EAAA,KAAKlB,EAAU,KAAK,IAAIC,CAAK,IAAIkB,CAAG,EAAE,EAAIF,EAAOE,CAAG,GAGxD,OAAAD,CAAA,EAqBP,gBAjBuBJ,GACvB,KAAKd,EAAU,KAAK,IAAIC,CAAK,IAAIa,CAAI,EAgBrC,CAEJ"}