{"version":3,"file":"switch-tab-custom.js","sources":["uni_modules/tuniaoui-vue3/components/switch-tab/src/composables/switch-tab-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\n\nimport type { CSSProperties } from 'vue'\nimport type { SwitchTabProps } from '../switch-tab'\n\nexport type tabClass = (index: number) => string\nexport type tabStyle = (index: number) => CSSProperties\n\nexport const useSwitchTabCustomStyle = (props: SwitchTabProps) => {\n  const ns = useNamespace('switch-tab')\n\n  // 解析颜色\n  const [inactiveBgColorClass, inactiveBgColorStyle] = useComponentColor(\n    toRef(props, 'inactiveBgColor'),\n    'bg'\n  )\n  const [activeBgColorClass, activeBgColorStyle] = useComponentColor(\n    toRef(props, 'activeBgColor'),\n    'bg'\n  )\n  const [inactiveTextColorClass, inactiveTextColorStyle] = useComponentColor(\n    toRef(props, 'inactiveTextColor'),\n    'text'\n  )\n  const [activeTextColorClass, activeTextColorStyle] = useComponentColor(\n    toRef(props, 'activeTextColor'),\n    'text'\n  )\n\n  // 切换选项卡的类\n  const switchTabClass = computed(() => {\n    const cls: string[] = [ns.b()]\n\n    if (activeBgColorClass.value) cls.push(activeBgColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 切换选项卡的样式\n  const switchTabStyle = computed(() => {\n    const style: CSSProperties = {}\n\n    if (!activeBgColorClass.value) {\n      style.backgroundColor =\n        activeBgColorStyle.value || 'var(--tn-color-white)'\n    }\n\n    return style\n  })\n\n  // 标签的类\n  const tabClass = computed<tabClass>(() => {\n    return (index: number) => {\n      const cls: string[] = [\n        ns.e('tab'),\n        ns.is('active', index === props.modelValue),\n      ]\n\n      if (index === props.modelValue) {\n        if (activeBgColorClass.value) cls.push(activeBgColorClass.value)\n        if (activeTextColorClass.value) cls.push(activeTextColorClass.value)\n      } else {\n        if (inactiveBgColorClass.value) cls.push(inactiveBgColorClass.value)\n        if (inactiveTextColorClass.value) cls.push(inactiveTextColorClass.value)\n      }\n\n      return cls.join(' ')\n    }\n  })\n  // 标签的样式\n  const tabStyle = computed<tabStyle>(() => {\n    return (index: number) => {\n      const style: CSSProperties = {}\n\n      if (index === props.modelValue) {\n        if (!activeBgColorClass.value) {\n          style.backgroundColor =\n            activeBgColorStyle.value || 'var(--tn-color-white)'\n        }\n        if (activeTextColorStyle.value) {\n          style.color = activeTextColorStyle.value\n        } else if (!activeTextColorClass.value && !activeBgColorClass.value) {\n          style.color = 'var(--tn-text-color-primary)'\n        }\n      } else {\n        if (!inactiveBgColorClass.value) {\n          style.backgroundColor =\n            inactiveBgColorStyle.value || 'var(--tn-color-primary-light-7)'\n        }\n        if (inactiveTextColorStyle.value) {\n          style.color = inactiveTextColorStyle.value\n        } else if (\n          !inactiveTextColorClass.value &&\n          !inactiveBgColorClass.value\n        ) {\n          style.color = 'var(--tn-text-color-primary)'\n        }\n        if (index === props.modelValue - 1) {\n          style.borderBottomRightRadius = '30rpx'\n        }\n        if (index === props.modelValue + 1) {\n          style.borderBottomLeftRadius = '30rpx'\n        }\n      }\n\n      return style\n    }\n  })\n\n  return {\n    ns,\n    tabClass,\n    tabStyle,\n    switchTabClass,\n    switchTabStyle,\n  }\n}\n"],"names":["useSwitchTabCustomStyle","props","ns","useNamespace","inactiveBgColorClass","inactiveBgColorStyle","useComponentColor","toRef","activeBgColorClass","activeBgColorStyle","inactiveTextColorClass","inactiveTextColorStyle","activeTextColorClass","activeTextColorStyle","switchTabClass","computed","cls","switchTabStyle","style","tabClass","index","tabStyle"],"mappings":"2RASa,MAAAA,EAA2BC,GAA0B,CAC1D,MAAAC,EAAKC,eAAa,YAAY,EAG9B,CAACC,EAAsBC,CAAoB,EAAIC,EAAA,kBACnDC,EAAA,MAAMN,EAAO,iBAAiB,EAC9B,IAAA,EAEI,CAACO,EAAoBC,CAAkB,EAAIH,EAAA,kBAC/CC,EAAA,MAAMN,EAAO,eAAe,EAC5B,IAAA,EAEI,CAACS,EAAwBC,CAAsB,EAAIL,EAAA,kBACvDC,EAAA,MAAMN,EAAO,mBAAmB,EAChC,MAAA,EAEI,CAACW,EAAsBC,CAAoB,EAAIP,EAAA,kBACnDC,EAAA,MAAMN,EAAO,iBAAiB,EAC9B,MAAA,EAIIa,EAAiBC,EAAAA,SAAS,IAAM,CACpC,MAAMC,EAAgB,CAACd,EAAG,EAAG,CAAA,EAE7B,OAAIM,EAAmB,OAAWQ,EAAA,KAAKR,EAAmB,KAAK,EAExDQ,EAAI,KAAK,GAAG,CAAA,CACpB,EAEKC,EAAiBF,EAAAA,SAAS,IAAM,CACpC,MAAMG,EAAuB,CAAA,EAEzB,OAACV,EAAmB,QAChBU,EAAA,gBACJT,EAAmB,OAAS,yBAGzBS,CAAA,CACR,EAGKC,EAAWJ,EAAAA,SAAmB,IAC1BK,GAAkB,CACxB,MAAMJ,EAAgB,CACpBd,EAAG,EAAE,KAAK,EACVA,EAAG,GAAG,SAAUkB,IAAUnB,EAAM,UAAU,CAAA,EAGxC,OAAAmB,IAAUnB,EAAM,YACdO,EAAmB,OAAWQ,EAAA,KAAKR,EAAmB,KAAK,EAC3DI,EAAqB,OAAWI,EAAA,KAAKJ,EAAqB,KAAK,IAE/DR,EAAqB,OAAWY,EAAA,KAAKZ,EAAqB,KAAK,EAC/DM,EAAuB,OAAWM,EAAA,KAAKN,EAAuB,KAAK,GAGlEM,EAAI,KAAK,GAAG,CAAA,CAEtB,EAEKK,EAAWN,EAAAA,SAAmB,IAC1BK,GAAkB,CACxB,MAAMF,EAAuB,CAAA,EAEzB,OAAAE,IAAUnB,EAAM,YACbO,EAAmB,QAChBU,EAAA,gBACJT,EAAmB,OAAS,yBAE5BI,EAAqB,MACvBK,EAAM,MAAQL,EAAqB,MAC1B,CAACD,EAAqB,OAAS,CAACJ,EAAmB,QAC5DU,EAAM,MAAQ,kCAGXd,EAAqB,QAClBc,EAAA,gBACJb,EAAqB,OAAS,mCAE9BM,EAAuB,MACzBO,EAAM,MAAQP,EAAuB,MAErC,CAACD,EAAuB,OACxB,CAACN,EAAqB,QAEtBc,EAAM,MAAQ,gCAEZE,IAAUnB,EAAM,WAAa,IAC/BiB,EAAM,wBAA0B,SAE9BE,IAAUnB,EAAM,WAAa,IAC/BiB,EAAM,uBAAyB,UAI5BA,CAAA,CAEV,EAEM,MAAA,CACL,GAAAhB,EACA,SAAAiB,EACA,SAAAE,EACA,eAAAP,EACA,eAAAG,CAAA,CAEJ"}