{"version":3,"file":"picker.js","sources":["uni_modules/tuniaoui-vue3/components/picker/src/picker.ts","uni_modules/tuniaoui-vue3/components/picker/src/picker.vue","../../HbuilderX/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovd29yay_ovr7kurpoNS91bmlfbW9kdWxlcy90dW5pYW91aS12dWUzL2NvbXBvbmVudHMvcGlja2VyL3NyYy9waWNrZXIudnVl"],"sourcesContent":["import { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../constants'\nimport {\n  buildProps,\n  definePropType,\n  isArray,\n  isBoolean,\n  isNumber,\n  isString,\n} from '../../../utils'\nimport { pickerBaseProps } from '../../base/common-props/picker'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type { Arrayable } from '../../../utils'\n\nexport type PickerValueType = Arrayable<string | number>\nexport type PickerDataType = string | number | object\nexport type PickerData = Arrayable<Array<PickerDataType> | object>\n\nexport const PickerModes = ['signle', 'multiple', 'cascade'] as const\n\nexport const pickerProps = buildProps({\n  ...pickerBaseProps,\n  /**\n   * @description picker绑定的值\n   */\n  modelValue: {\n    type: definePropType<PickerValueType>([String, Number, Array]),\n    default: '',\n  },\n  /**\n   * @description 显示picker选项弹框\n   */\n  open: Boolean,\n  /**\n   * @description picker选项的数据\n   */\n  data: {\n    type: definePropType<PickerData>([Array]),\n    default: () => [],\n  },\n  /**\n   * @description picker选项的数据label属性名\n   */\n  labelKey: {\n    type: String,\n    default: 'label',\n  },\n  /**\n   * @description picker选项的数据value属性名\n   */\n  valueKey: {\n    type: String,\n    default: 'value',\n  },\n  /**\n   * @description picker选项的数据children属性名, 在级联选择器模式下生效\n   */\n  childrenKey: {\n    type: String,\n    default: 'children',\n  },\n})\n\nexport const pickerEmits = {\n  [UPDATE_MODEL_EVENT]: (value: PickerValueType) =>\n    isString(value) || isNumber(value) || isArray(value),\n  'update:open': (value: boolean) => isBoolean(value),\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  [CHANGE_EVENT]: (value: PickerValueType, index: number, item: any) => true,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  confirm: (value: PickerValueType, item: any) => true,\n  cancel: () => true,\n  close: () => true,\n}\n\nexport type PickerProps = ExtractPropTypes<typeof pickerProps>\nexport type PickerEmits = typeof pickerEmits\n\nexport type PickerMode = (typeof PickerModes)[number]\n","<script lang=\"ts\" setup>\nimport TnPopup from '../../popup/src/popup.vue'\nimport { pickerEmits, pickerProps } from './picker'\nimport { usePicker, usePickerCustomStyle } from './composables'\n\nconst props = defineProps(pickerProps)\ndefineEmits(pickerEmits)\n\nconst {\n  openPopup,\n  showPicker,\n  pickerData,\n  currentPickerIndex,\n  closePopupEvent,\n  pickerViewChangeEvent,\n  confirmEvent,\n  cancelEvent,\n  initDefaultPickerIndex,\n  resetPickerIndexWithPosition,\n} = usePicker(props)\nconst { ns, overlayOpacity, operationBtnClass, operationBtnStyle } =\n  usePickerCustomStyle(props)\n\nconst resetPickerViewIndex = () => {\n  initDefaultPickerIndex()\n}\n\ndefineExpose({\n  /**\n   * @description: 重置选择器的值\n   */\n  resetPickerViewIndex,\n  /**\n   * @description: 重置指定位置选择器的值\n   */\n  resetPickerIndexWithPosition,\n})\n</script>\n\n<template>\n  <TnPopup\n    v-model=\"openPopup\"\n    open-direction=\"bottom\"\n    :overlay=\"true\"\n    :overlay-opacity=\"overlayOpacity\"\n    :radius=\"0\"\n    :safe-area-inset-bottom=\"false\"\n    :z-index=\"zIndex\"\n    @close=\"closePopupEvent\"\n  >\n    <view class=\"tn-u-safe-area\" :class=\"[ns.b()]\">\n      <!-- 操作按钮 -->\n      <view :class=\"[ns.e('operation'), ns.is('only-confirm', !showCancel)]\">\n        <view\n          v-if=\"showCancel\"\n          :class=\"[operationBtnClass('cancel')]\"\n          :style=\"operationBtnStyle('cancel')\"\n          @tap.stop=\"cancelEvent\"\n        >\n          <slot name=\"cancel\">\n            {{ props.cancelText }}\n          </slot>\n        </view>\n        <view\n          :class=\"[operationBtnClass('confirm')]\"\n          :style=\"operationBtnStyle('confirm')\"\n          @tap.stop=\"confirmEvent\"\n        >\n          <slot name=\"confirm\">\n            {{ props.confirmText }}\n          </slot>\n        </view>\n      </view>\n\n      <!-- 内容区域 -->\n      <view :class=\"[ns.e('content')]\">\n        <picker-view\n          v-if=\"showPicker\"\n          :class=\"[ns.e('picker-view')]\"\n          :value=\"currentPickerIndex\"\n          @change=\"pickerViewChangeEvent\"\n        >\n          <picker-view-column\n            v-for=\"(item, index) in pickerData\"\n            :key=\"index\"\n            :class=\"[ns.e('picker-view-column')]\"\n          >\n            <view\n              v-for=\"(dItem, dIndex) in item\"\n              :key=\"dIndex\"\n              :class=\"ns.e('content-item')\"\n            >\n              <view\n                class=\"tn-text-ellipsis-1\"\n                :class=\"ns.em('content-item', 'data')\"\n              >\n                {{ dItem['label'] }}\n              </view>\n            </view>\n          </picker-view-column>\n        </picker-view>\n      </view>\n    </view>\n  </TnPopup>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../../../theme-chalk/src/picker.scss';\n</style>\n","import Component from 'D:/work/达人h5/uni_modules/tuniaoui-vue3/components/picker/src/picker.vue'\nwx.createComponent(Component)"],"names":["pickerProps","buildProps","pickerBaseProps","definePropType","pickerEmits","UPDATE_MODEL_EVENT","value","isString","isNumber","isArray","isBoolean","CHANGE_EVENT","index","item","TnPopup","props","__props","openPopup","showPicker","pickerData","currentPickerIndex","closePopupEvent","pickerViewChangeEvent","confirmEvent","cancelEvent","initDefaultPickerIndex","resetPickerIndexWithPosition","usePicker","ns","overlayOpacity","operationBtnClass","operationBtnStyle","usePickerCustomStyle","__expose","Component"],"mappings":"0bAoBaA,EAAcC,EAAAA,WAAW,CACpC,GAAGC,EAAA,gBAIH,WAAY,CACV,KAAMC,EAAAA,eAAgC,CAAC,OAAQ,OAAQ,KAAK,CAAC,EAC7D,QAAS,EACX,EAIA,KAAM,QAIN,KAAM,CACJ,KAAMA,EAAAA,eAA2B,CAAC,KAAK,CAAC,EACxC,QAAS,IAAM,CAAC,CAClB,EAIA,SAAU,CACR,KAAM,OACN,QAAS,OACX,EAIA,SAAU,CACR,KAAM,OACN,QAAS,OACX,EAIA,YAAa,CACX,KAAM,OACN,QAAS,UACX,CACF,CAAC,EAEYC,EAAc,CACzB,CAACC,EAAkB,kBAAA,EAAIC,GACrBC,WAASD,CAAK,GAAKE,EAAAA,SAASF,CAAK,GAAKG,EAAA,QAAQH,CAAK,EACrD,cAAgBA,GAAmBI,EAAA,UAAUJ,CAAK,EAElD,CAACK,EAAY,YAAA,EAAG,CAACL,EAAwBM,EAAeC,IAAc,GAEtE,QAAS,CAACP,EAAwBO,IAAc,GAChD,OAAQ,IAAM,GACd,MAAO,IAAM,EACf,YCxEA,MAAAC,EAAoB,IAAA,oGAIpB,MAAMC,EAAQC,EAGR,CACJ,UAAAC,EACA,WAAAC,EACA,WAAAC,EACA,mBAAAC,EACA,gBAAAC,EACA,sBAAAC,EACA,aAAAC,EACA,YAAAC,EACA,uBAAAC,EACA,6BAAAC,CAAA,EACEC,EAAAA,UAAUZ,CAAK,EACb,CAAE,GAAAa,EAAI,eAAAC,EAAgB,kBAAAC,EAAmB,kBAAAC,GAC7CC,EAAAA,qBAAqBjB,CAAK,EAMf,OAAAkB,EAAA,CAIX,qBAR2B,IAAM,CACVR,GAAA,EAWvB,6BAAAC,CAAA,CACD,u/BCnCD,GAAG,gBAAgBQ,CAAS"}