{"version":3,"file":"picker-custom.js","sources":["uni_modules/tuniaoui-vue3/components/picker/src/composables/picker-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\n\nimport type { CSSProperties } from 'vue'\nimport type { PickerProps } from '../picker'\n\nexport type PickerOperationBtnType = 'cancel' | 'confirm'\nexport type PickerOperationBtnClass = (type: PickerOperationBtnType) => string\nexport type PickerOperationBtnStyle = (\n  type: PickerOperationBtnType\n) => CSSProperties\n\nexport const usePickerCustomStyle = (props: PickerProps) => {\n  const ns = useNamespace('picker')\n\n  // 解析颜色\n  const [cancelColorClass, cancelColorStyle] = useComponentColor(\n    toRef(props, 'cancelColor'),\n    'text'\n  )\n  const [confirmColorClass, confirmColorStyle] = useComponentColor(\n    toRef(props, 'confirmColor'),\n    'text'\n  )\n\n  // 遮罩的透明度\n  const overlayOpacity = computed(() => {\n    return props.mask ? 0.5 : 0\n  })\n\n  // 取消/确认按钮对应的类\n  const operationBtnClass = computed<PickerOperationBtnClass>(() => {\n    return (type: PickerOperationBtnType) => {\n      const cls: string[] = [\n        ns.e('operation-btn'),\n        ns.em('operation-btn', type),\n      ]\n\n      if (type === 'cancel') {\n        if (cancelColorClass.value) cls.push(cancelColorClass.value)\n      } else if (type === 'confirm') {\n        if (confirmColorClass.value) cls.push(confirmColorClass.value)\n      }\n\n      return cls.join(' ')\n    }\n  })\n\n  // 取消/确认按钮对应的样式\n  const operationBtnStyle = computed<PickerOperationBtnStyle>(() => {\n    return (type: PickerOperationBtnType) => {\n      const style: CSSProperties = {}\n\n      if (type === 'cancel') {\n        if (!cancelColorClass.value)\n          style.color = cancelColorStyle.value || 'var(--tn-color-danger)'\n      } else if (type === 'confirm') {\n        if (!confirmColorClass.value)\n          style.color = confirmColorStyle.value || 'var(--tn-color-primary)'\n      }\n\n      return style\n    }\n  })\n\n  return {\n    ns,\n    overlayOpacity,\n    operationBtnClass,\n    operationBtnStyle,\n  }\n}\n"],"names":["useNamespace","useComponentColor","toRef","computed"],"mappings":";;;;;;AAYa,MAAA,uBAAuB,CAAC,UAAuB;AACpD,QAAA,KAAKA,+DAAa,QAAQ;AAG1B,QAAA,CAAC,kBAAkB,gBAAgB,IAAIC,uDAAA;AAAA,IAC3CC,cAAA,MAAM,OAAO,aAAa;AAAA,IAC1B;AAAA,EAAA;AAEI,QAAA,CAAC,mBAAmB,iBAAiB,IAAID,uDAAA;AAAA,IAC7CC,cAAA,MAAM,OAAO,cAAc;AAAA,IAC3B;AAAA,EAAA;AAII,QAAA,iBAAiBC,cAAAA,SAAS,MAAM;AAC7B,WAAA,MAAM,OAAO,MAAM;AAAA,EAAA,CAC3B;AAGK,QAAA,oBAAoBA,cAAAA,SAAkC,MAAM;AAChE,WAAO,CAAC,SAAiC;AACvC,YAAM,MAAgB;AAAA,QACpB,GAAG,EAAE,eAAe;AAAA,QACpB,GAAG,GAAG,iBAAiB,IAAI;AAAA,MAAA;AAG7B,UAAI,SAAS,UAAU;AACrB,YAAI,iBAAiB;AAAW,cAAA,KAAK,iBAAiB,KAAK;AAAA,MAAA,WAClD,SAAS,WAAW;AAC7B,YAAI,kBAAkB;AAAW,cAAA,KAAK,kBAAkB,KAAK;AAAA,MAC/D;AAEO,aAAA,IAAI,KAAK,GAAG;AAAA,IAAA;AAAA,EACrB,CACD;AAGK,QAAA,oBAAoBA,cAAAA,SAAkC,MAAM;AAChE,WAAO,CAAC,SAAiC;AACvC,YAAM,QAAuB,CAAA;AAE7B,UAAI,SAAS,UAAU;AACrB,YAAI,CAAC,iBAAiB;AACd,gBAAA,QAAQ,iBAAiB,SAAS;AAAA,MAAA,WACjC,SAAS,WAAW;AAC7B,YAAI,CAAC,kBAAkB;AACf,gBAAA,QAAQ,kBAAkB,SAAS;AAAA,MAC7C;AAEO,aAAA;AAAA,IAAA;AAAA,EACT,CACD;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}