{"version":3,"file":"picker-custom.js","sources":["uni_modules/tuniaoui-vue3/components/picker/src/composables/picker-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\n\nimport type { CSSProperties } from 'vue'\nimport type { PickerProps } from '../picker'\n\nexport type PickerOperationBtnType = 'cancel' | 'confirm'\nexport type PickerOperationBtnClass = (type: PickerOperationBtnType) => string\nexport type PickerOperationBtnStyle = (\n  type: PickerOperationBtnType\n) => CSSProperties\n\nexport const usePickerCustomStyle = (props: PickerProps) => {\n  const ns = useNamespace('picker')\n\n  // 解析颜色\n  const [cancelColorClass, cancelColorStyle] = useComponentColor(\n    toRef(props, 'cancelColor'),\n    'text'\n  )\n  const [confirmColorClass, confirmColorStyle] = useComponentColor(\n    toRef(props, 'confirmColor'),\n    'text'\n  )\n\n  // 遮罩的透明度\n  const overlayOpacity = computed(() => {\n    return props.mask ? 0.5 : 0\n  })\n\n  // 取消/确认按钮对应的类\n  const operationBtnClass = computed<PickerOperationBtnClass>(() => {\n    return (type: PickerOperationBtnType) => {\n      const cls: string[] = [\n        ns.e('operation-btn'),\n        ns.em('operation-btn', type),\n      ]\n\n      if (type === 'cancel') {\n        if (cancelColorClass.value) cls.push(cancelColorClass.value)\n      } else if (type === 'confirm') {\n        if (confirmColorClass.value) cls.push(confirmColorClass.value)\n      }\n\n      return cls.join(' ')\n    }\n  })\n\n  // 取消/确认按钮对应的样式\n  const operationBtnStyle = computed<PickerOperationBtnStyle>(() => {\n    return (type: PickerOperationBtnType) => {\n      const style: CSSProperties = {}\n\n      if (type === 'cancel') {\n        if (!cancelColorClass.value)\n          style.color = cancelColorStyle.value || 'var(--tn-color-danger)'\n      } else if (type === 'confirm') {\n        if (!confirmColorClass.value)\n          style.color = confirmColorStyle.value || 'var(--tn-color-primary)'\n      }\n\n      return style\n    }\n  })\n\n  return {\n    ns,\n    overlayOpacity,\n    operationBtnClass,\n    operationBtnStyle,\n  }\n}\n"],"names":["usePickerCustomStyle","props","ns","useNamespace","cancelColorClass","cancelColorStyle","useComponentColor","toRef","confirmColorClass","confirmColorStyle","overlayOpacity","computed","operationBtnClass","type","cls","operationBtnStyle","style"],"mappings":"2RAYa,MAAAA,EAAwBC,GAAuB,CACpD,MAAAC,EAAKC,eAAa,QAAQ,EAG1B,CAACC,EAAkBC,CAAgB,EAAIC,EAAA,kBAC3CC,EAAA,MAAMN,EAAO,aAAa,EAC1B,MAAA,EAEI,CAACO,EAAmBC,CAAiB,EAAIH,EAAA,kBAC7CC,EAAA,MAAMN,EAAO,cAAc,EAC3B,MAAA,EAIIS,EAAiBC,EAAAA,SAAS,IACvBV,EAAM,KAAO,GAAM,CAC3B,EAGKW,EAAoBD,EAAAA,SAAkC,IAClDE,GAAiC,CACvC,MAAMC,EAAgB,CACpBZ,EAAG,EAAE,eAAe,EACpBA,EAAG,GAAG,gBAAiBW,CAAI,CAAA,EAG7B,OAAIA,IAAS,SACPT,EAAiB,OAAWU,EAAA,KAAKV,EAAiB,KAAK,EAClDS,IAAS,WACdL,EAAkB,OAAWM,EAAA,KAAKN,EAAkB,KAAK,EAGxDM,EAAI,KAAK,GAAG,CAAA,CAEtB,EAGKC,EAAoBJ,EAAAA,SAAkC,IAClDE,GAAiC,CACvC,MAAMG,EAAuB,CAAA,EAE7B,OAAIH,IAAS,SACNT,EAAiB,QACdY,EAAA,MAAQX,EAAiB,OAAS,0BACjCQ,IAAS,YACbL,EAAkB,QACfQ,EAAA,MAAQP,EAAkB,OAAS,4BAGtCO,CAAA,CAEV,EAEM,MAAA,CACL,GAAAd,EACA,eAAAQ,EACA,kBAAAE,EACA,kBAAAG,CAAA,CAEJ"}