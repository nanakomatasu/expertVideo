{"version":3,"file":"use-overlay.js","sources":["uni_modules/tuniaoui-vue3/components/overlay/src/composables/use-overlay.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useNamespace } from '../../../../hooks'\nimport { isEmptyVariableInDefault } from '../../../../utils'\n\nimport type { CSSProperties, SetupContext } from 'vue'\nimport type { OverlayEmits, OverlayProps } from '../overlay'\n\nexport const useOverlay = (\n  props: OverlayProps,\n  emits: SetupContext<OverlayEmits>['emit']\n) => {\n  const ns = useNamespace('overlay')\n\n  // 遮罩层对应的类\n  const overlayClass = computed<string>(() => {\n    const cls: string[] = [ns.b()]\n\n    // 是否显示组件\n    if (props.show) cls.push(ns.m('show'))\n\n    return cls.join(' ')\n  })\n\n  // 遮罩层样式\n  const overlayStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    // 动画执行时间\n    style.transitionDuration = `${isEmptyVariableInDefault(\n      props.duration,\n      300\n    )}ms`\n\n    // 遮罩层透明度\n    style.backgroundColor = `rgba(0, 0, 0, ${isEmptyVariableInDefault(\n      props.opacity,\n      0.5\n    )})`\n\n    // 设置zIndex\n    if (props.zIndex) style.zIndex = props.zIndex\n\n    return style\n  })\n\n  // 遮罩点击事件\n  const overlayClick = () => {\n    emits('update:show', false)\n    emits('click')\n  }\n\n  return {\n    ns,\n    overlayClass,\n    overlayStyle,\n    overlayClick,\n  }\n}\n"],"names":["useOverlay","props","emits","ns","useNamespace","overlayClass","computed","cls","overlayStyle","style","isEmptyVariableInDefault"],"mappings":"0QAOa,MAAAA,EAAa,CACxBC,EACAC,IACG,CACG,MAAAC,EAAKC,eAAa,SAAS,EAG3BC,EAAeC,EAAAA,SAAiB,IAAM,CAC1C,MAAMC,EAAgB,CAACJ,EAAG,EAAG,CAAA,EAG7B,OAAIF,EAAM,MAAMM,EAAI,KAAKJ,EAAG,EAAE,MAAM,CAAC,EAE9BI,EAAI,KAAK,GAAG,CAAA,CACpB,EAGKC,EAAeF,EAAAA,SAAwB,IAAM,CACjD,MAAMG,EAAuB,CAAA,EAG7B,OAAAA,EAAM,mBAAqB,GAAGC,EAAA,yBAC5BT,EAAM,SACN,GACD,CAAA,KAGDQ,EAAM,gBAAkB,iBAAiBC,EAAA,yBACvCT,EAAM,QACN,EACD,CAAA,IAGGA,EAAM,SAAQQ,EAAM,OAASR,EAAM,QAEhCQ,CAAA,CACR,EAQM,MAAA,CACL,GAAAN,EACA,aAAAE,EACA,aAAAG,EACA,aATmB,IAAM,CACzBN,EAAM,cAAe,EAAK,EAC1BA,EAAM,OAAO,CAAA,CAOb,CAEJ"}