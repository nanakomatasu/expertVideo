{"version":3,"file":"search-box-custom.js","sources":["uni_modules/tuniaoui-vue3/components/search-box/src/composables/search-box-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\n\nimport type { CSSProperties } from 'vue'\nimport type { SearchBoxProps } from '../search-box'\n\nexport const useSearchBoxCustomStyle = (props: SearchBoxProps) => {\n  const ns = useNamespace('search-box')\n\n  // 解析颜色\n  const [textColorClass, textColorStyle] = useComponentColor(\n    toRef(props, 'textColor'),\n    'text'\n  )\n  const [borderColorClass, borderColorStyle] = useComponentColor(\n    toRef(props, 'borderColor'),\n    'border'\n  )\n  const [placeholderColorClass, placeholderColorStyle] = useComponentColor(\n    toRef(props, 'placeholderColor'),\n    'text'\n  )\n  const [searchButtonTextColorClass, searchButtonTextColorStyle] =\n    useComponentColor(toRef(props, 'searchButtonTextColor'), 'text')\n  const [searchButtonBgColorClass, searchButtonBgColorStyle] =\n    useComponentColor(toRef(props, 'searchButtonBgColor'), 'bg')\n\n  // 搜索框的类\n  const searchBoxClass = computed<string>(() => {\n    const cls: string[] = [\n      ns.b(),\n      ns.m(props.shape),\n      ns.is('no-search-btn', !props.searchButton),\n      ns.is('disabled', props.disabled),\n    ]\n\n    if (props.border) {\n      cls.push(ns.m('border'))\n      if (borderColorClass.value) cls.push(borderColorClass.value)\n    }\n    if (props.size) cls.push(ns.m(props.size))\n\n    if (textColorClass.value) cls.push(textColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 搜索框的样式\n  const searchBoxStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (!textColorClass.value)\n      style.color = textColorStyle.value || 'var(--tn-text-color-primary)'\n\n    if (props.border) {\n      if (!borderColorClass.value) {\n        style.borderColor = borderColorStyle.value || 'var(--tn-color-gray)'\n      }\n    }\n\n    return style\n  })\n\n  // 搜索框占位文字的类\n  const placeholderClass = computed<string>(() => {\n    const cls: string[] = [\n      ns.e('placeholder'),\n      ns.em('placeholder', props.textAlign),\n    ]\n\n    if (placeholderColorClass.value) cls.push(placeholderColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 搜索框占位文字的样式\n  const placeholderStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (!placeholderColorClass.value)\n      style.color =\n        placeholderColorStyle.value || 'var(--tn-text-color-secondary)'\n\n    return style\n  })\n\n  // 搜索按钮的类\n  const searchButtonClass = computed<string>(() => {\n    const cls: string[] = [ns.e('search-button')]\n\n    if (searchButtonBgColorClass.value) cls.push(searchButtonBgColorClass.value)\n    if (searchButtonTextColorClass.value)\n      cls.push(searchButtonTextColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 搜索按钮的样式\n  const searchButtonStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (!searchButtonBgColorClass.value)\n      style.backgroundColor =\n        searchButtonBgColorStyle.value || 'var(--tn-color-primary)'\n\n    if (searchButtonTextColorStyle.value) {\n      style.color = searchButtonTextColorStyle.value\n    } else if (\n      !searchButtonBgColorClass.value &&\n      !searchButtonTextColorClass.value\n    ) {\n      style.color = 'var(--tn-color-white)'\n    }\n\n    return style\n  })\n\n  return {\n    ns,\n    searchBoxClass,\n    searchBoxStyle,\n    placeholderClass,\n    placeholderStyle,\n    searchButtonClass,\n    searchButtonStyle,\n  }\n}\n"],"names":["useNamespace","useComponentColor","toRef","computed"],"mappings":"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"}