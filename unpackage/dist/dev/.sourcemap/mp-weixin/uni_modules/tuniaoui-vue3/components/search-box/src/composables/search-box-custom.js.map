{"version":3,"file":"search-box-custom.js","sources":["uni_modules/tuniaoui-vue3/components/search-box/src/composables/search-box-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\n\nimport type { CSSProperties } from 'vue'\nimport type { SearchBoxProps } from '../search-box'\n\nexport const useSearchBoxCustomStyle = (props: SearchBoxProps) => {\n  const ns = useNamespace('search-box')\n\n  // 解析颜色\n  const [textColorClass, textColorStyle] = useComponentColor(\n    toRef(props, 'textColor'),\n    'text'\n  )\n  const [borderColorClass, borderColorStyle] = useComponentColor(\n    toRef(props, 'borderColor'),\n    'border'\n  )\n  const [placeholderColorClass, placeholderColorStyle] = useComponentColor(\n    toRef(props, 'placeholderColor'),\n    'text'\n  )\n  const [searchButtonTextColorClass, searchButtonTextColorStyle] =\n    useComponentColor(toRef(props, 'searchButtonTextColor'), 'text')\n  const [searchButtonBgColorClass, searchButtonBgColorStyle] =\n    useComponentColor(toRef(props, 'searchButtonBgColor'), 'bg')\n\n  // 搜索框的类\n  const searchBoxClass = computed<string>(() => {\n    const cls: string[] = [\n      ns.b(),\n      ns.m(props.shape),\n      ns.is('no-search-btn', !props.searchButton),\n      ns.is('disabled', props.disabled),\n    ]\n\n    if (props.border) {\n      cls.push(ns.m('border'))\n      if (borderColorClass.value) cls.push(borderColorClass.value)\n    }\n    if (props.size) cls.push(ns.m(props.size))\n\n    if (textColorClass.value) cls.push(textColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 搜索框的样式\n  const searchBoxStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (!textColorClass.value)\n      style.color = textColorStyle.value || 'var(--tn-text-color-primary)'\n\n    if (props.border) {\n      if (!borderColorClass.value) {\n        style.borderColor = borderColorStyle.value || 'var(--tn-color-gray)'\n      }\n    }\n\n    return style\n  })\n\n  // 搜索框占位文字的类\n  const placeholderClass = computed<string>(() => {\n    const cls: string[] = [\n      ns.e('placeholder'),\n      ns.em('placeholder', props.textAlign),\n    ]\n\n    if (placeholderColorClass.value) cls.push(placeholderColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 搜索框占位文字的样式\n  const placeholderStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (!placeholderColorClass.value)\n      style.color =\n        placeholderColorStyle.value || 'var(--tn-text-color-secondary)'\n\n    return style\n  })\n\n  // 搜索按钮的类\n  const searchButtonClass = computed<string>(() => {\n    const cls: string[] = [ns.e('search-button')]\n\n    if (searchButtonBgColorClass.value) cls.push(searchButtonBgColorClass.value)\n    if (searchButtonTextColorClass.value)\n      cls.push(searchButtonTextColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 搜索按钮的样式\n  const searchButtonStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (!searchButtonBgColorClass.value)\n      style.backgroundColor =\n        searchButtonBgColorStyle.value || 'var(--tn-color-primary)'\n\n    if (searchButtonTextColorStyle.value) {\n      style.color = searchButtonTextColorStyle.value\n    } else if (\n      !searchButtonBgColorClass.value &&\n      !searchButtonTextColorClass.value\n    ) {\n      style.color = 'var(--tn-color-white)'\n    }\n\n    return style\n  })\n\n  return {\n    ns,\n    searchBoxClass,\n    searchBoxStyle,\n    placeholderClass,\n    placeholderStyle,\n    searchButtonClass,\n    searchButtonStyle,\n  }\n}\n"],"names":["useSearchBoxCustomStyle","props","ns","useNamespace","textColorClass","textColorStyle","useComponentColor","toRef","borderColorClass","borderColorStyle","placeholderColorClass","placeholderColorStyle","searchButtonTextColorClass","searchButtonTextColorStyle","searchButtonBgColorClass","searchButtonBgColorStyle","searchBoxClass","computed","cls","searchBoxStyle","style","placeholderClass","placeholderStyle","searchButtonClass","searchButtonStyle"],"mappings":"2RAMa,MAAAA,EAA2BC,GAA0B,CAC1D,MAAAC,EAAKC,eAAa,YAAY,EAG9B,CAACC,EAAgBC,CAAc,EAAIC,EAAA,kBACvCC,EAAA,MAAMN,EAAO,WAAW,EACxB,MAAA,EAEI,CAACO,EAAkBC,CAAgB,EAAIH,EAAA,kBAC3CC,EAAA,MAAMN,EAAO,aAAa,EAC1B,QAAA,EAEI,CAACS,EAAuBC,CAAqB,EAAIL,EAAA,kBACrDC,EAAA,MAAMN,EAAO,kBAAkB,EAC/B,MAAA,EAEI,CAACW,EAA4BC,CAA0B,EAC3DP,oBAAkBC,EAAM,MAAAN,EAAO,uBAAuB,EAAG,MAAM,EAC3D,CAACa,EAA0BC,CAAwB,EACvDT,oBAAkBC,EAAM,MAAAN,EAAO,qBAAqB,EAAG,IAAI,EAGvDe,EAAiBC,EAAAA,SAAiB,IAAM,CAC5C,MAAMC,EAAgB,CACpBhB,EAAG,EAAE,EACLA,EAAG,EAAED,EAAM,KAAK,EAChBC,EAAG,GAAG,gBAAiB,CAACD,EAAM,YAAY,EAC1CC,EAAG,GAAG,WAAYD,EAAM,QAAQ,CAAA,EAGlC,OAAIA,EAAM,SACRiB,EAAI,KAAKhB,EAAG,EAAE,QAAQ,CAAC,EACnBM,EAAiB,OAAWU,EAAA,KAAKV,EAAiB,KAAK,GAEzDP,EAAM,MAAMiB,EAAI,KAAKhB,EAAG,EAAED,EAAM,IAAI,CAAC,EAErCG,EAAe,OAAWc,EAAA,KAAKd,EAAe,KAAK,EAEhDc,EAAI,KAAK,GAAG,CAAA,CACpB,EAEKC,EAAiBF,EAAAA,SAAwB,IAAM,CACnD,MAAMG,EAAuB,CAAA,EAE7B,OAAKhB,EAAe,QACZgB,EAAA,MAAQf,EAAe,OAAS,gCAEpCJ,EAAM,SACHO,EAAiB,QACdY,EAAA,YAAcX,EAAiB,OAAS,yBAI3CW,CAAA,CACR,EAGKC,EAAmBJ,EAAAA,SAAiB,IAAM,CAC9C,MAAMC,EAAgB,CACpBhB,EAAG,EAAE,aAAa,EAClBA,EAAG,GAAG,cAAeD,EAAM,SAAS,CAAA,EAGtC,OAAIS,EAAsB,OAAWQ,EAAA,KAAKR,EAAsB,KAAK,EAE9DQ,EAAI,KAAK,GAAG,CAAA,CACpB,EAEKI,EAAmBL,EAAAA,SAAwB,IAAM,CACrD,MAAMG,EAAuB,CAAA,EAE7B,OAAKV,EAAsB,QACnBU,EAAA,MACJT,EAAsB,OAAS,kCAE5BS,CAAA,CACR,EAGKG,EAAoBN,EAAAA,SAAiB,IAAM,CAC/C,MAAMC,EAAgB,CAAChB,EAAG,EAAE,eAAe,CAAC,EAE5C,OAAIY,EAAyB,OAAWI,EAAA,KAAKJ,EAAyB,KAAK,EACvEF,EAA2B,OACzBM,EAAA,KAAKN,EAA2B,KAAK,EAEpCM,EAAI,KAAK,GAAG,CAAA,CACpB,EAEKM,EAAoBP,EAAAA,SAAwB,IAAM,CACtD,MAAMG,EAAuB,CAAA,EAE7B,OAAKN,EAAyB,QACtBM,EAAA,gBACJL,EAAyB,OAAS,2BAElCF,EAA2B,MAC7BO,EAAM,MAAQP,EAA2B,MAEzC,CAACC,EAAyB,OAC1B,CAACF,EAA2B,QAE5BQ,EAAM,MAAQ,yBAGTA,CAAA,CACR,EAEM,MAAA,CACL,GAAAlB,EACA,eAAAc,EACA,eAAAG,EACA,iBAAAE,EACA,iBAAAC,EACA,kBAAAC,EACA,kBAAAC,CAAA,CAEJ"}