{"version":3,"file":"notice-bar-common-props.js","sources":["uni_modules/tuniaoui-vue3/components/notice-bar/src/composables/notice-bar-common-props.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor } from '../../../../hooks'\nimport { formatDomSizeValue } from '../../../../utils'\n\nimport type { CSSProperties } from 'vue'\nimport type { NoticeBarProps } from '../notice-bar'\n\ntype NoticeBarCommonColorClass = (\n  type: 'normal' | 'leftIcon' | 'rightIcon'\n) => string\ntype NoticeBarCommonColorStyle = (\n  type: 'normal' | 'leftIcon' | 'rightIcon'\n) => CSSProperties\n\nexport const useNoticeBarCommonProps = (props: NoticeBarProps) => {\n  // 解析颜色\n  const [bgColorClass, bgColorStyle] = useComponentColor(\n    toRef(props, 'bgColor'),\n    'bg'\n  )\n  const [textColorClass, textColorStyle] = useComponentColor(\n    toRef(props, 'textColor'),\n    'text'\n  )\n  const [leftIconColorClass, leftIconColorStyle] = useComponentColor(\n    toRef(props, 'leftIconColor'),\n    'text'\n  )\n  const [rightIconColorClass, rightIconColorStyle] = useComponentColor(\n    toRef(props, 'rightIconColor'),\n    'text'\n  )\n\n  // 公共类\n  const commonClass = computed<NoticeBarCommonColorClass>(() => {\n    return (type: 'normal' | 'leftIcon' | 'rightIcon' = 'normal') => {\n      const cls: string[] = []\n\n      if (type === 'normal') {\n        // 设置颜色\n        if (bgColorClass.value) cls.push(bgColorClass.value)\n        if (textColorClass.value) cls.push(textColorClass.value)\n      } else if (type === 'leftIcon') {\n        // 设置左图标颜色\n        if (leftIconColorClass.value) cls.push(leftIconColorClass.value)\n      } else if (type === 'rightIcon') {\n        // 设置右图标颜色\n        if (rightIconColorClass.value) cls.push(rightIconColorClass.value)\n      }\n\n      return cls.join(' ')\n    }\n  })\n\n  // 公共样式\n  const commonStyle = computed<NoticeBarCommonColorStyle>(() => {\n    return (type: 'normal' | 'leftIcon' | 'rightIcon' = 'normal') => {\n      const style: CSSProperties = {}\n\n      if (type === 'normal') {\n        // 设置颜色\n        if (!bgColorClass.value) {\n          style.backgroundColor = bgColorStyle.value || 'var(--tn-color-white)'\n        }\n        if (textColorStyle.value) {\n          style.color = textColorStyle.value\n        } else if (!bgColorClass.value && !textColorClass.value) {\n          style.color = 'var(--tn-text-color-primary)'\n        }\n        // 如果有设置字体大小，则设置字体大小\n        if (props.fontSize) style.fontSize = formatDomSizeValue(props.fontSize)\n      } else if (type === 'leftIcon') {\n        if (!leftIconColorClass.value) {\n          style.color =\n            leftIconColorStyle.value || 'var(--tn-text-color-primary)'\n        }\n        if (props.fontSize) style.fontSize = formatDomSizeValue(props.fontSize)\n        if (props.leftIconSize)\n          style.fontSize = formatDomSizeValue(props.leftIconSize)\n      } else if (type === 'rightIcon') {\n        if (!rightIconColorClass.value) {\n          style.color =\n            rightIconColorStyle.value || 'var(--tn-text-color-secondary)'\n        }\n        if (props.fontSize)\n          style.fontSize = `calc(${formatDomSizeValue(props.fontSize)} * 1.2)`\n        if (props.rightIconSize)\n          style.fontSize = formatDomSizeValue(props.rightIconSize)\n      }\n\n      return style\n    }\n  })\n\n  return {\n    commonClass,\n    commonStyle,\n  }\n}\n"],"names":["useNoticeBarCommonProps","props","bgColorClass","bgColorStyle","useComponentColor","toRef","textColorClass","textColorStyle","leftIconColorClass","leftIconColorStyle","rightIconColorClass","rightIconColorStyle","commonClass","computed","type","cls","commonStyle","style","formatDomSizeValue"],"mappings":"sRAca,MAAAA,EAA2BC,GAA0B,CAE1D,KAAA,CAACC,EAAcC,CAAY,EAAIC,EAAA,kBACnCC,EAAA,MAAMJ,EAAO,SAAS,EACtB,IAAA,EAEI,CAACK,EAAgBC,CAAc,EAAIH,EAAA,kBACvCC,EAAA,MAAMJ,EAAO,WAAW,EACxB,MAAA,EAEI,CAACO,EAAoBC,CAAkB,EAAIL,EAAA,kBAC/CC,EAAA,MAAMJ,EAAO,eAAe,EAC5B,MAAA,EAEI,CAACS,EAAqBC,CAAmB,EAAIP,EAAA,kBACjDC,EAAA,MAAMJ,EAAO,gBAAgB,EAC7B,MAAA,EAIIW,EAAcC,EAAAA,SAAoC,IAC/C,CAACC,EAA4C,WAAa,CAC/D,MAAMC,EAAgB,CAAA,EAEtB,OAAID,IAAS,UAEPZ,EAAa,OAAWa,EAAA,KAAKb,EAAa,KAAK,EAC/CI,EAAe,OAAWS,EAAA,KAAKT,EAAe,KAAK,GAC9CQ,IAAS,WAEdN,EAAmB,OAAWO,EAAA,KAAKP,EAAmB,KAAK,EACtDM,IAAS,aAEdJ,EAAoB,OAAWK,EAAA,KAAKL,EAAoB,KAAK,EAG5DK,EAAI,KAAK,GAAG,CAAA,CAEtB,EAGKC,EAAcH,EAAAA,SAAoC,IAC/C,CAACC,EAA4C,WAAa,CAC/D,MAAMG,EAAuB,CAAA,EAE7B,OAAIH,IAAS,UAENZ,EAAa,QACVe,EAAA,gBAAkBd,EAAa,OAAS,yBAE5CI,EAAe,MACjBU,EAAM,MAAQV,EAAe,MACpB,CAACL,EAAa,OAAS,CAACI,EAAe,QAChDW,EAAM,MAAQ,gCAGZhB,EAAM,WAAgBgB,EAAA,SAAWC,EAAAA,mBAAmBjB,EAAM,QAAQ,IAC7Da,IAAS,YACbN,EAAmB,QAChBS,EAAA,MACJR,EAAmB,OAAS,gCAE5BR,EAAM,WAAgBgB,EAAA,SAAWC,EAAAA,mBAAmBjB,EAAM,QAAQ,GAClEA,EAAM,eACFgB,EAAA,SAAWC,EAAAA,mBAAmBjB,EAAM,YAAY,IAC/Ca,IAAS,cACbJ,EAAoB,QACjBO,EAAA,MACJN,EAAoB,OAAS,kCAE7BV,EAAM,WACRgB,EAAM,SAAW,QAAQC,EAAAA,mBAAmBjB,EAAM,QAAQ,CAAC,WACzDA,EAAM,gBACFgB,EAAA,SAAWC,EAAAA,mBAAmBjB,EAAM,aAAa,IAGpDgB,CAAA,CAEV,EAEM,MAAA,CACL,YAAAL,EACA,YAAAI,CAAA,CAEJ"}