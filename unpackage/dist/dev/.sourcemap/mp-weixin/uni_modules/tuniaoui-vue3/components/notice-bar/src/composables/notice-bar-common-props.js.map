{"version":3,"file":"notice-bar-common-props.js","sources":["uni_modules/tuniaoui-vue3/components/notice-bar/src/composables/notice-bar-common-props.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor } from '../../../../hooks'\nimport { formatDomSizeValue } from '../../../../utils'\n\nimport type { CSSProperties } from 'vue'\nimport type { NoticeBarProps } from '../notice-bar'\n\ntype NoticeBarCommonColorClass = (\n  type: 'normal' | 'leftIcon' | 'rightIcon'\n) => string\ntype NoticeBarCommonColorStyle = (\n  type: 'normal' | 'leftIcon' | 'rightIcon'\n) => CSSProperties\n\nexport const useNoticeBarCommonProps = (props: NoticeBarProps) => {\n  // 解析颜色\n  const [bgColorClass, bgColorStyle] = useComponentColor(\n    toRef(props, 'bgColor'),\n    'bg'\n  )\n  const [textColorClass, textColorStyle] = useComponentColor(\n    toRef(props, 'textColor'),\n    'text'\n  )\n  const [leftIconColorClass, leftIconColorStyle] = useComponentColor(\n    toRef(props, 'leftIconColor'),\n    'text'\n  )\n  const [rightIconColorClass, rightIconColorStyle] = useComponentColor(\n    toRef(props, 'rightIconColor'),\n    'text'\n  )\n\n  // 公共类\n  const commonClass = computed<NoticeBarCommonColorClass>(() => {\n    return (type: 'normal' | 'leftIcon' | 'rightIcon' = 'normal') => {\n      const cls: string[] = []\n\n      if (type === 'normal') {\n        // 设置颜色\n        if (bgColorClass.value) cls.push(bgColorClass.value)\n        if (textColorClass.value) cls.push(textColorClass.value)\n      } else if (type === 'leftIcon') {\n        // 设置左图标颜色\n        if (leftIconColorClass.value) cls.push(leftIconColorClass.value)\n      } else if (type === 'rightIcon') {\n        // 设置右图标颜色\n        if (rightIconColorClass.value) cls.push(rightIconColorClass.value)\n      }\n\n      return cls.join(' ')\n    }\n  })\n\n  // 公共样式\n  const commonStyle = computed<NoticeBarCommonColorStyle>(() => {\n    return (type: 'normal' | 'leftIcon' | 'rightIcon' = 'normal') => {\n      const style: CSSProperties = {}\n\n      if (type === 'normal') {\n        // 设置颜色\n        if (!bgColorClass.value) {\n          style.backgroundColor = bgColorStyle.value || 'var(--tn-color-white)'\n        }\n        if (textColorStyle.value) {\n          style.color = textColorStyle.value\n        } else if (!bgColorClass.value && !textColorClass.value) {\n          style.color = 'var(--tn-text-color-primary)'\n        }\n        // 如果有设置字体大小，则设置字体大小\n        if (props.fontSize) style.fontSize = formatDomSizeValue(props.fontSize)\n      } else if (type === 'leftIcon') {\n        if (!leftIconColorClass.value) {\n          style.color =\n            leftIconColorStyle.value || 'var(--tn-text-color-primary)'\n        }\n        if (props.fontSize) style.fontSize = formatDomSizeValue(props.fontSize)\n        if (props.leftIconSize)\n          style.fontSize = formatDomSizeValue(props.leftIconSize)\n      } else if (type === 'rightIcon') {\n        if (!rightIconColorClass.value) {\n          style.color =\n            rightIconColorStyle.value || 'var(--tn-text-color-secondary)'\n        }\n        if (props.fontSize)\n          style.fontSize = `calc(${formatDomSizeValue(props.fontSize)} * 1.2)`\n        if (props.rightIconSize)\n          style.fontSize = formatDomSizeValue(props.rightIconSize)\n      }\n\n      return style\n    }\n  })\n\n  return {\n    commonClass,\n    commonStyle,\n  }\n}\n"],"names":["useComponentColor","toRef","computed","formatDomSizeValue"],"mappings":";;;;;;AAca,MAAA,0BAA0B,CAAC,UAA0B;AAE1D,QAAA,CAAC,cAAc,YAAY,IAAIA,uDAAA;AAAA,IACnCC,cAAA,MAAM,OAAO,SAAS;AAAA,IACtB;AAAA,EAAA;AAEI,QAAA,CAAC,gBAAgB,cAAc,IAAID,uDAAA;AAAA,IACvCC,cAAA,MAAM,OAAO,WAAW;AAAA,IACxB;AAAA,EAAA;AAEI,QAAA,CAAC,oBAAoB,kBAAkB,IAAID,uDAAA;AAAA,IAC/CC,cAAA,MAAM,OAAO,eAAe;AAAA,IAC5B;AAAA,EAAA;AAEI,QAAA,CAAC,qBAAqB,mBAAmB,IAAID,uDAAA;AAAA,IACjDC,cAAA,MAAM,OAAO,gBAAgB;AAAA,IAC7B;AAAA,EAAA;AAII,QAAA,cAAcC,cAAAA,SAAoC,MAAM;AACrD,WAAA,CAAC,OAA4C,aAAa;AAC/D,YAAM,MAAgB,CAAA;AAEtB,UAAI,SAAS,UAAU;AAErB,YAAI,aAAa;AAAW,cAAA,KAAK,aAAa,KAAK;AACnD,YAAI,eAAe;AAAW,cAAA,KAAK,eAAe,KAAK;AAAA,MAAA,WAC9C,SAAS,YAAY;AAE9B,YAAI,mBAAmB;AAAW,cAAA,KAAK,mBAAmB,KAAK;AAAA,MAAA,WACtD,SAAS,aAAa;AAE/B,YAAI,oBAAoB;AAAW,cAAA,KAAK,oBAAoB,KAAK;AAAA,MACnE;AAEO,aAAA,IAAI,KAAK,GAAG;AAAA,IAAA;AAAA,EACrB,CACD;AAGK,QAAA,cAAcA,cAAAA,SAAoC,MAAM;AACrD,WAAA,CAAC,OAA4C,aAAa;AAC/D,YAAM,QAAuB,CAAA;AAE7B,UAAI,SAAS,UAAU;AAEjB,YAAA,CAAC,aAAa,OAAO;AACjB,gBAAA,kBAAkB,aAAa,SAAS;AAAA,QAChD;AACA,YAAI,eAAe,OAAO;AACxB,gBAAM,QAAQ,eAAe;AAAA,mBACpB,CAAC,aAAa,SAAS,CAAC,eAAe,OAAO;AACvD,gBAAM,QAAQ;AAAA,QAChB;AAEA,YAAI,MAAM;AAAgB,gBAAA,WAAWC,wCAAAA,mBAAmB,MAAM,QAAQ;AAAA,MAAA,WAC7D,SAAS,YAAY;AAC1B,YAAA,CAAC,mBAAmB,OAAO;AACvB,gBAAA,QACJ,mBAAmB,SAAS;AAAA,QAChC;AACA,YAAI,MAAM;AAAgB,gBAAA,WAAWA,wCAAAA,mBAAmB,MAAM,QAAQ;AACtE,YAAI,MAAM;AACF,gBAAA,WAAWA,wCAAAA,mBAAmB,MAAM,YAAY;AAAA,MAAA,WAC/C,SAAS,aAAa;AAC3B,YAAA,CAAC,oBAAoB,OAAO;AACxB,gBAAA,QACJ,oBAAoB,SAAS;AAAA,QACjC;AACA,YAAI,MAAM;AACR,gBAAM,WAAW,QAAQA,wCAAAA,mBAAmB,MAAM,QAAQ,CAAC;AAC7D,YAAI,MAAM;AACF,gBAAA,WAAWA,wCAAAA,mBAAmB,MAAM,aAAa;AAAA,MAC3D;AAEO,aAAA;AAAA,IAAA;AAAA,EACT,CACD;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,EAAA;AAEJ;;"}